{"componentChunkName":"component---node-modules-narative-gatsby-theme-novela-src-templates-article-template-tsx","path":"/influxdb-telegraf-grafana","result":{"pageContext":{"article":{"id":"b08fa2f2-6caf-5350-9d90-f6755ed587e2","slug":"/influxdb-telegraf-grafana","secret":false,"title":"InfluxDB Telegraf Grafana 配置","author":"Elsa Granger","date":"November 7th, 2020","dateForSEO":"2020-11-07T00:00:00.000Z","timeToRead":1,"excerpt":"使用 InfluxDb Telegraf Grafana 来进行监控，提供了安装过程中需要的一些配置","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"InfluxDB Telegraf Grafana 配置\",\n  \"author\": \"Elsa Granger\",\n  \"hero\": \"./images/grafana-hero.png\",\n  \"date\": \"2020-11-07T00:00:00.000Z\",\n  \"excerpt\": \"使用 InfluxDb Telegraf Grafana 来进行监控，提供了安装过程中需要的一些配置\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"installation\"\n  }, \"Installation\"), mdx(\"h3\", {\n    \"id\": \"influxdb-and-telegraf\"\n  }, \"InfluxDB and Telegraf\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u5B89\\u88C5\\u7684\\u662F 1.x \\u7248\\u672C\\uFF0C\\u5E76\\u4E0D\\u662F 2 \\u7684 beta \\u7248\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"wget -qO- https://repos.influxdata.com/influxdb.key | sudo apt-key add -\\necho \\\"deb https://repos.influxdata.com/ubuntu ${lsb_release -cs} stable\\\" | sudo tee /etc/apt/sources.list.d/influxdb.list\\n\\nsudo apt-get update && sudo apt-get install telegraf influxdb\\n\")), mdx(\"h3\", {\n    \"id\": \"grafana\"\n  }, \"Grafana\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"sudo apt-get install -y apt-transport-https\\nsudo apt-get install -y software-properties-common wget\\nwget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\\necho \\\"deb https://packages.grafana.com/enterprise/deb stable main\\\" | sudo tee -a /etc/apt/sources.list.d/grafana.list\\n\")), mdx(\"h2\", {\n    \"id\": \"configure\"\n  }, \"Configure\"), mdx(\"h3\", {\n    \"id\": \"influxdb\"\n  }, \"InfluxDB\"), mdx(\"h4\", {\n    \"id\": \"创建用户\"\n  }, \"\\u521B\\u5EFA\\u7528\\u6237\"), mdx(\"p\", null, \"\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"influx\"), \" \\u8FDB\\u5165 influxdb \\u7684\\u4EA4\\u4E92\"), mdx(\"h5\", {\n    \"id\": \"创建-database\"\n  }, \"\\u521B\\u5EFA database\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \"create database telegraf;\\n\")), mdx(\"h5\", {\n    \"id\": \"创建用户-1\"\n  }, \"\\u521B\\u5EFA\\u7528\\u6237\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \"create user admin with password 'ROOT PASSWORD' with all privileges;\\ncreate user telegrafuser with password 'PASSWORD HERE';\\n\")), mdx(\"h5\", {\n    \"id\": \"设置权限\"\n  }, \"\\u8BBE\\u7F6E\\u6743\\u9650\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \"grant all on telegraf to telegrafuser;\\n\")), mdx(\"h4\", {\n    \"id\": \"设置认证\"\n  }, \"\\u8BBE\\u7F6E\\u8BA4\\u8BC1\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/influxdb/influxdb.conf\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-conf\"\n  }, \"[http]\\n  # Determines whether HTTP endpoint is enabled.\\n  enabled = true\\n\\n  # The bind address used by the HTTP service.\\n  bind-address = \\\":8086\\\"\\n\\n  # Determines whether user authentication is enabled over HTTP/HTTPS.\\n  auth-enabled = true\\n\")), mdx(\"h3\", {\n    \"id\": \"telegraf\"\n  }, \"Telegraf\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-conf\"\n  }, \"# \\u53BB\\u6389\\u6CE8\\u91CA\\n[[inputs.net]]\\n\\n# \\u6DFB\\u52A0 influxdb \\u4FE1\\u606F\\n[[outputs.influxdb]]\\n    urls = [\\\"http://influxdb-url\\\"]\\n    username = \\\"telegrafuser\\\"\\n    password = \\\"PASSWORD HERE\\\"\\n\")), mdx(\"h3\", {\n    \"id\": \"grafana-1\"\n  }, \"Grafana\"), mdx(\"p\", null, \"\\u5141\\u8BB8\\u533F\\u540D\\u8BBF\\u95EE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-conf\"\n  }, \"[auth.anonymous]\\n# enable anonymous access\\nenabled = true\\n\")), mdx(\"h2\", {\n    \"id\": \"influxdb-1\"\n  }, \"InfluxDB\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \"show tag values with key = \\\"host\\\";\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2ElEQVQ4y+VTzwuCMBj1/4fOXfsXgk6CiEhlnaSMopM7DNG8hEQL3V6kpps/SqJOffB449v29j4e0wAIFPXkT6rS0L4gpohqv3IIIUSOes3zU3lP2ntXiqDM8iMPcM4VNA20BOUNnpyRneiwWRvO2w5ThmQ6BpvPQI47uJstojAEIQSe5yEIAlBKEUURGGP9DitBluC6GiHdT+AfXCycNRxnCV3XYVkWTNOEYRiwbRtxHA8bWdxOEBe/GJ9nJfMWdwX1MhQ0en3B9QrWF3gJNekudI38Z1/vDrVOTyEc494xAAAAAElFTkSuQmCC","aspectRatio":1.4478527607361964,"src":"/static/e67068bd83b6b904d7ae990d566b2eb5/a6008/grafana-hero.png","srcSet":"/static/e67068bd83b6b904d7ae990d566b2eb5/5b37e/grafana-hero.png 236w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/49058/grafana-hero.png 472w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/a6008/grafana-hero.png 504w","srcWebp":"/static/e67068bd83b6b904d7ae990d566b2eb5/287f5/grafana-hero.webp","srcSetWebp":"/static/e67068bd83b6b904d7ae990d566b2eb5/77392/grafana-hero.webp 236w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/1f177/grafana-hero.webp 472w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/287f5/grafana-hero.webp 504w","sizes":"(max-width: 504px) 100vw, 504px"},"regular":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2ElEQVQ4y+VTzwuCMBj1/4fOXfsXgk6CiEhlnaSMopM7DNG8hEQL3V6kpps/SqJOffB449v29j4e0wAIFPXkT6rS0L4gpohqv3IIIUSOes3zU3lP2ntXiqDM8iMPcM4VNA20BOUNnpyRneiwWRvO2w5ThmQ6BpvPQI47uJstojAEIQSe5yEIAlBKEUURGGP9DitBluC6GiHdT+AfXCycNRxnCV3XYVkWTNOEYRiwbRtxHA8bWdxOEBe/GJ9nJfMWdwX1MhQ0en3B9QrWF3gJNekudI38Z1/vDrVOTyEc494xAAAAAElFTkSuQmCC","aspectRatio":1.4424778761061947,"src":"/static/e67068bd83b6b904d7ae990d566b2eb5/a6008/grafana-hero.png","srcSet":"/static/e67068bd83b6b904d7ae990d566b2eb5/078a8/grafana-hero.png 163w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/e56da/grafana-hero.png 327w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/a6008/grafana-hero.png 504w","srcWebp":"/static/e67068bd83b6b904d7ae990d566b2eb5/287f5/grafana-hero.webp","srcSetWebp":"/static/e67068bd83b6b904d7ae990d566b2eb5/ac59e/grafana-hero.webp 163w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/7660b/grafana-hero.webp 327w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/287f5/grafana-hero.webp 504w","sizes":"(max-width: 504px) 100vw, 504px"},"narrow":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2ElEQVQ4y+VTzwuCMBj1/4fOXfsXgk6CiEhlnaSMopM7DNG8hEQL3V6kpps/SqJOffB449v29j4e0wAIFPXkT6rS0L4gpohqv3IIIUSOes3zU3lP2ntXiqDM8iMPcM4VNA20BOUNnpyRneiwWRvO2w5ThmQ6BpvPQI47uJstojAEIQSe5yEIAlBKEUURGGP9DitBluC6GiHdT+AfXCycNRxnCV3XYVkWTNOEYRiwbRtxHA8bWdxOEBe/GJ9nJfMWdwX1MhQ0en3B9QrWF3gJNekudI38Z1/vDrVOTyEc494xAAAAAElFTkSuQmCC","aspectRatio":1.4430379746835442,"src":"/static/e67068bd83b6b904d7ae990d566b2eb5/502b1/grafana-hero.png","srcSet":"/static/e67068bd83b6b904d7ae990d566b2eb5/f2e6d/grafana-hero.png 114w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/4ddba/grafana-hero.png 229w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/502b1/grafana-hero.png 457w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/a6008/grafana-hero.png 504w","srcWebp":"/static/e67068bd83b6b904d7ae990d566b2eb5/15384/grafana-hero.webp","srcSetWebp":"/static/e67068bd83b6b904d7ae990d566b2eb5/31fce/grafana-hero.webp 114w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/e3e25/grafana-hero.webp 229w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/15384/grafana-hero.webp 457w,\n/static/e67068bd83b6b904d7ae990d566b2eb5/287f5/grafana-hero.webp 504w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/e67068bd83b6b904d7ae990d566b2eb5/a6008/grafana-hero.png"}}},"authors":[{"authorsPage":false,"bio":"Undergraduate of Information Security in USTC","id":"2785af8d-2c14-5bba-9b27-899152fefb53","name":"Elsa Granger","featured":true,"social":[{"url":"https://github.com/zeyugao"}],"slug":"/authors/elsa-granger","avatar":{"small":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAH2qUqa6EIzgbQF/8QAGxAAAgEFAAAAAAAAAAAAAAAAATEAAgMQESH/2gAIAQEAAQUCzcWuhVMwL//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABkQAAEFAAAAAAAAAAAAAAAAAAACEBEgYf/aAAgBAQAGPwJ4E5X/xAAaEAEBAAMBAQAAAAAAAAAAAAABABEhMRBB/9oACAEBAAE/IWF++bLDIxvYTg3cJR6uV//aAAwDAQACAAMAAAAQcC8+/8QAFhEBAQEAAAAAAAAAAAAAAAAAASAh/9oACAEDAQE/EAyP/8QAFhEBAQEAAAAAAAAAAAAAAAAAEAFB/9oACAECAQE/EKYf/8QAHRABAAMBAAIDAAAAAAAAAAAAAQARMSFBUWFxof/aAAgBAQABPxBUPaouZULVjezS4HmDSe+5CC1dWKTPn7n4IwKc6RK98sasz//Z","aspectRatio":1,"src":"/static/12eeb4f9f55bb6f929bc3e016a45737b/fa1ea/elsagranger-head.jpg","srcSet":"/static/12eeb4f9f55bb6f929bc3e016a45737b/afb2b/elsagranger-head.jpg 13w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/7c20e/elsagranger-head.jpg 25w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/fa1ea/elsagranger-head.jpg 50w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/03612/elsagranger-head.jpg 75w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/61cdf/elsagranger-head.jpg 100w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/88b18/elsagranger-head.jpg 300w","srcWebp":"/static/12eeb4f9f55bb6f929bc3e016a45737b/e7b2c/elsagranger-head.webp","srcSetWebp":"/static/12eeb4f9f55bb6f929bc3e016a45737b/58718/elsagranger-head.webp 13w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/74aad/elsagranger-head.webp 25w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/e7b2c/elsagranger-head.webp 50w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/ed320/elsagranger-head.webp 75w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/66016/elsagranger-head.webp 100w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/0bc1d/elsagranger-head.webp 300w","sizes":"(max-width: 50px) 100vw, 50px"},"medium":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAH2qUqa6EIzgbQF/8QAGxAAAgEFAAAAAAAAAAAAAAAAATEAAgMQESH/2gAIAQEAAQUCzcWuhVMwL//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABkQAAEFAAAAAAAAAAAAAAAAAAACEBEgYf/aAAgBAQAGPwJ4E5X/xAAaEAEBAAMBAQAAAAAAAAAAAAABABEhMRBB/9oACAEBAAE/IWF++bLDIxvYTg3cJR6uV//aAAwDAQACAAMAAAAQcC8+/8QAFhEBAQEAAAAAAAAAAAAAAAAAASAh/9oACAEDAQE/EAyP/8QAFhEBAQEAAAAAAAAAAAAAAAAAEAFB/9oACAECAQE/EKYf/8QAHRABAAMBAAIDAAAAAAAAAAAAAQARMSFBUWFxof/aAAgBAQABPxBUPaouZULVjezS4HmDSe+5CC1dWKTPn7n4IwKc6RK98sasz//Z","aspectRatio":1,"src":"/static/12eeb4f9f55bb6f929bc3e016a45737b/61cdf/elsagranger-head.jpg","srcSet":"/static/12eeb4f9f55bb6f929bc3e016a45737b/7c20e/elsagranger-head.jpg 25w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/fa1ea/elsagranger-head.jpg 50w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/61cdf/elsagranger-head.jpg 100w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/59538/elsagranger-head.jpg 150w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/fd013/elsagranger-head.jpg 200w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/88b18/elsagranger-head.jpg 300w","srcWebp":"/static/12eeb4f9f55bb6f929bc3e016a45737b/66016/elsagranger-head.webp","srcSetWebp":"/static/12eeb4f9f55bb6f929bc3e016a45737b/74aad/elsagranger-head.webp 25w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/e7b2c/elsagranger-head.webp 50w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/66016/elsagranger-head.webp 100w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/d9b14/elsagranger-head.webp 150w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/6b183/elsagranger-head.webp 200w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/0bc1d/elsagranger-head.webp 300w","sizes":"(max-width: 100px) 100vw, 100px"},"large":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAH2qUqa6EIzgbQF/8QAGxAAAgEFAAAAAAAAAAAAAAAAATEAAgMQESH/2gAIAQEAAQUCzcWuhVMwL//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABkQAAEFAAAAAAAAAAAAAAAAAAACEBEgYf/aAAgBAQAGPwJ4E5X/xAAaEAEBAAMBAQAAAAAAAAAAAAABABEhMRBB/9oACAEBAAE/IWF++bLDIxvYTg3cJR6uV//aAAwDAQACAAMAAAAQcC8+/8QAFhEBAQEAAAAAAAAAAAAAAAAAASAh/9oACAEDAQE/EAyP/8QAFhEBAQEAAAAAAAAAAAAAAAAAEAFB/9oACAECAQE/EKYf/8QAHRABAAMBAAIDAAAAAAAAAAAAAQARMSFBUWFxof/aAAgBAQABPxBUPaouZULVjezS4HmDSe+5CC1dWKTPn7n4IwKc6RK98sasz//Z","aspectRatio":1,"src":"/static/12eeb4f9f55bb6f929bc3e016a45737b/88b18/elsagranger-head.jpg","srcSet":"/static/12eeb4f9f55bb6f929bc3e016a45737b/a2637/elsagranger-head.jpg 82w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/15203/elsagranger-head.jpg 164w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/88b18/elsagranger-head.jpg 300w","srcWebp":"/static/12eeb4f9f55bb6f929bc3e016a45737b/0bc1d/elsagranger-head.webp","srcSetWebp":"/static/12eeb4f9f55bb6f929bc3e016a45737b/2d087/elsagranger-head.webp 82w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/29d87/elsagranger-head.webp 164w,\n/static/12eeb4f9f55bb6f929bc3e016a45737b/0bc1d/elsagranger-head.webp 300w","sizes":"(max-width: 300px) 100vw, 300px"}}}],"basePath":"/","permalink":"https://blog.elsagranger.com/influxdb-telegraf-grafana/","slug":"/influxdb-telegraf-grafana","id":"b08fa2f2-6caf-5350-9d90-f6755ed587e2","title":"InfluxDB Telegraf Grafana 配置","canonicalUrl":null,"mailchimp":"","next":[{"id":"50dd679e-9263-51cb-bc5e-f22579bc90a8","slug":"/let's-encrypt","secret":false,"title":"Let's Encrypt 配置","author":"Elsa Granger","date":"November 7th, 2020","dateForSEO":"2020-11-07T00:00:00.000Z","timeToRead":1,"excerpt":"安装 Let's Encrypt，并提供示例 Nginx 配置和 crontab","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Let's Encrypt 配置\",\n  \"author\": \"Elsa Granger\",\n  \"hero\": \"./images/letsencrypt-hero.png\",\n  \"date\": \"2020-11-07T00:00:00.000Z\",\n  \"excerpt\": \"安装 Let's Encrypt，并提供示例 Nginx 配置和 crontab\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"installation\"\n  }, \"Installation\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"sudo apt install certbot\\n\")), mdx(\"h2\", {\n    \"id\": \"configure\"\n  }, \"Configure\"), mdx(\"p\", null, \"\\u5047\\u8BBE\\u7F51\\u7AD9\\u4E3A example.com\"), mdx(\"p\", null, \"\\u5728 Nginx/OpenResty \\u5BF9\\u5E94\\u7684 conf \\u4E2D\\u6DFB\\u52A0\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-conf\"\n  }, \"location /.well-known/acme-challenge/ {\\n    default_type \\\"text/plain\\\";\\n    root /var/www/html/example.com;\\n}\\n\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u6DFB\\u52A0\\u5728 http \\u4E0B\\u7684\\u5373\\u53EF\")), mdx(\"p\", null, \"\\u5728 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/var/www/html/example.com\"), \" \\u4E0B\\u9762\\u521B\\u5EFA\\u9700\\u8981\\u7684\\u6587\\u4EF6\\u5939\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"pushd /var/www/html/example.com\\nmkdir -p .well-known/acme-challenge\\n\")), mdx(\"h2\", {\n    \"id\": \"obain\"\n  }, \"Obain\"), mdx(\"h3\", {\n    \"id\": \"webroot\"\n  }, \"Webroot\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--email\"), \" \\u4E3A\\u7533\\u8BF7\\u8005\\u90AE\\u7BB1\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--webroot\"), \" \\u4E3A webroot \\u65B9\\u5F0F\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-w\"), \" \\u4E3A\\u7AD9\\u70B9\\u76EE\\u5F55\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-d\"), \" \\u4E3A\\u8981\\u52A0 https \\u7684\\u57DF\\u540D\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"certbot certonly --email root@example.com \\\\\\n    --webroot -w /var/www/html/example.com \\\\\\n    -d example.com \\\\\\n    -d www.example.com\\n\")), mdx(\"h3\", {\n    \"id\": \"standalone\"\n  }, \"Standalone\"), mdx(\"p\", null, \"\\u9700\\u8981\\u5360\\u7528 443 \\u7AEF\\u53E3\\uFF0C\\u9700\\u8981\\u505C\\u6B62 Nginx \\u7B49\\u670D\\u52A1\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"certbot certonly --email admin@example.com \\\\\\n    --standalone \\\\\\n    -d example.com \\\\\\n    -d www.example.com\\n\")), mdx(\"h2\", {\n    \"id\": \"nginx-conf\"\n  }, \"Nginx Conf\"), mdx(\"p\", null, \"\\u751F\\u6210\\u7684\\u8BC1\\u4E66\\u4F1A\\u5728 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/letsencrypt/live/ \"), \" \\u4E0B\\u9762\"), mdx(\"p\", null, \"Nginx Conf \\u53C2\\u8003\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-conf\"\n  }, \"server {\\n    listen 80;\\n    server_name example.com;\\n    server_name www.example.com;\\n\\n    location /.well-known/acme-challenge/ {\\n        default_type \\\"text/plain\\\";\\n        root /usr/local/openresty/nginx/html/example.com;\\n    }\\n\\n    location / {\\n        return 302 https://$server_name$request_uri;\\n    }\\n}\\n\\nserver {\\n    listen 443 ssl;\\n    listen [::]:443 ssl;\\n    server_name example.com;\\n    server_name www.example.com;\\n\\n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\\n\\n    location / {\\n        include proxy_params;\\n        proxy_pass http://127.0.0.1:3000;\\n    }\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"auto-renew\"\n  }, \"Auto Renew\"), mdx(\"p\", null, \"\\u5728 cron \\u4E2D\\u6DFB\\u52A0\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"0 0 * */2 * certbot renew --quiet --post-hook \\\"openresty -s reload\\\"\\n\")), mdx(\"p\", null, \"\\u6BCF\\u9694\\u4E24\\u4E2A\\u6708\\uFF0C\\u5728 0 \\u70B9 0 \\u5206\\u81EA\\u52A8\\u7EED\\u671F\"));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxUlEQVQoz2P49OnTz58/f5AIvn///uvXLwYg/k86+PfvH5BkAFqLIvQPBP5CAJj+gwSAXGyawZw/nx5/v77y96cnQDZEO1ADRB1cD4SLohli5J3b95JTK06fvXrkxNV1W44dPXlt865TG3ec2Ln/3P4jl9ZsPnrs1DVkI6CaIZzPX36cv/Lw3fvP1249unX3yaMnr+8/enH99uMrNx5eunp/76ELz168hbgSh59hJMkBBnPS/38wA/4hwP+//+DCODSTFFUAcPoIqLyKYkEAAAAASUVORK5CYII=","aspectRatio":2.3366336633663365,"src":"/static/131787ae853d111feddb0095f3c16f88/b20ee/letsencrypt-hero.png","srcSet":"/static/131787ae853d111feddb0095f3c16f88/5b37e/letsencrypt-hero.png 236w,\n/static/131787ae853d111feddb0095f3c16f88/b20ee/letsencrypt-hero.png 343w","srcWebp":"/static/131787ae853d111feddb0095f3c16f88/f2eb3/letsencrypt-hero.webp","srcSetWebp":"/static/131787ae853d111feddb0095f3c16f88/77392/letsencrypt-hero.webp 236w,\n/static/131787ae853d111feddb0095f3c16f88/f2eb3/letsencrypt-hero.webp 343w","sizes":"(max-width: 343px) 100vw, 343px"},"regular":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxUlEQVQoz2P49OnTz58/f5AIvn///uvXLwYg/k86+PfvH5BkAFqLIvQPBP5CAJj+gwSAXGyawZw/nx5/v77y96cnQDZEO1ADRB1cD4SLohli5J3b95JTK06fvXrkxNV1W44dPXlt865TG3ec2Ln/3P4jl9ZsPnrs1DVkI6CaIZzPX36cv/Lw3fvP1249unX3yaMnr+8/enH99uMrNx5eunp/76ELz168hbgSh59hJMkBBnPS/38wA/4hwP+//+DCODSTFFUAcPoIqLyKYkEAAAAASUVORK5CYII=","aspectRatio":2.3285714285714287,"src":"/static/131787ae853d111feddb0095f3c16f88/b20ee/letsencrypt-hero.png","srcSet":"/static/131787ae853d111feddb0095f3c16f88/078a8/letsencrypt-hero.png 163w,\n/static/131787ae853d111feddb0095f3c16f88/e56da/letsencrypt-hero.png 327w,\n/static/131787ae853d111feddb0095f3c16f88/b20ee/letsencrypt-hero.png 343w","srcWebp":"/static/131787ae853d111feddb0095f3c16f88/f2eb3/letsencrypt-hero.webp","srcSetWebp":"/static/131787ae853d111feddb0095f3c16f88/ac59e/letsencrypt-hero.webp 163w,\n/static/131787ae853d111feddb0095f3c16f88/7660b/letsencrypt-hero.webp 327w,\n/static/131787ae853d111feddb0095f3c16f88/f2eb3/letsencrypt-hero.webp 343w","sizes":"(max-width: 343px) 100vw, 343px"},"narrow":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxUlEQVQoz2P49OnTz58/f5AIvn///uvXLwYg/k86+PfvH5BkAFqLIvQPBP5CAJj+gwSAXGyawZw/nx5/v77y96cnQDZEO1ADRB1cD4SLohli5J3b95JTK06fvXrkxNV1W44dPXlt865TG3ec2Ln/3P4jl9ZsPnrs1DVkI6CaIZzPX36cv/Lw3fvP1249unX3yaMnr+8/enH99uMrNx5eunp/76ELz168hbgSh59hJMkBBnPS/38wA/4hwP+//+DCODSTFFUAcPoIqLyKYkEAAAAASUVORK5CYII=","aspectRatio":2.326530612244898,"src":"/static/131787ae853d111feddb0095f3c16f88/b20ee/letsencrypt-hero.png","srcSet":"/static/131787ae853d111feddb0095f3c16f88/f2e6d/letsencrypt-hero.png 114w,\n/static/131787ae853d111feddb0095f3c16f88/4ddba/letsencrypt-hero.png 229w,\n/static/131787ae853d111feddb0095f3c16f88/b20ee/letsencrypt-hero.png 343w","srcWebp":"/static/131787ae853d111feddb0095f3c16f88/f2eb3/letsencrypt-hero.webp","srcSetWebp":"/static/131787ae853d111feddb0095f3c16f88/31fce/letsencrypt-hero.webp 114w,\n/static/131787ae853d111feddb0095f3c16f88/e3e25/letsencrypt-hero.webp 229w,\n/static/131787ae853d111feddb0095f3c16f88/f2eb3/letsencrypt-hero.webp 343w","sizes":"(max-width: 343px) 100vw, 343px"},"seo":{"src":"/static/131787ae853d111feddb0095f3c16f88/b20ee/letsencrypt-hero.png"}}},{"id":"9a7a80b1-f30a-5073-a95d-aafaf1e03213","slug":"/imx7d","secret":false,"title":"imx7d 一些配置","author":"Elsa Granger","date":"September 20th, 2020","dateForSEO":"2020-09-20T00:00:00.000Z","timeToRead":1,"excerpt":"imx7d 的一些配置，包含 GPIO、I2C、bme280、网络以及 WireGuard","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"imx7d 一些配置\",\n  \"author\": \"Elsa Granger\",\n  \"hero\": \"./images/nxp-pico7-board.jpeg\",\n  \"date\": \"2020-09-20T00:00:00.000Z\",\n  \"excerpt\": \"imx7d 的一些配置，包含 GPIO、I2C、bme280、网络以及 WireGuard\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"gpio\"\n  }, \"GPIO\"), mdx(\"p\", null, \"PINOUT \\u7684\\u53C2\\u8003\\u4E3A \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.android.com/things/hardware/imx7d\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }, \"I/O Pinouts\")), mdx(\"p\", null, \"GPIO2_IO00 \\u5BF9\\u5E94\\u7684\\u662F sysfs \\u4E2D\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(2-1)*32 + 0\"), \"\\uFF0C\\u6216\\u8005 chardev \\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/dev/gpiochip1\"), \" \\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"line=0\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"echo 32 > /sys/class/gpio/export\\necho out > /sys/class/gpio/gpio32/direction\\necho 1 > /sys/class/gpio/gpio32/value\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"from periphery import GPIO\\nimport time\\n\\nr = GPIO(\\\"/dev/gpiochip1\\\", 0, \\\"out\\\")\\ng = GPIO(\\\"/dev/gpiochip1\\\", 5, \\\"out\\\")\\nb = GPIO(\\\"/dev/gpiochip1\\\", 7, \\\"out\\\")\\n\\nwhile True:\\n    for i in range(7):\\n        r.write(i%2==0)\\n        g.write((i>>1)%2==0)\\n        b.write((i>>2)%2==0)\\n        time.sleep(0.2)\\n\\nr.close()\\ng.close()\\nb.close()\\n\")), mdx(\"h2\", {\n    \"id\": \"bme280\"\n  }, \"bme280\"), mdx(\"p\", null, \"\\u5C06 i2c \\u7684\\u63A5\\u53E3\\u63A5\\u5728 i2c-0 \\u4E0A\\uFF0C\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"i2cdetect\"), \" \\u5F97\\u5230\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"elsa@imx7d:~$ i2cdetect -y 0\\n     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f\\n00:          -- -- -- -- -- -- -- UU -- -- -- -- --\\n10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n70: -- -- -- -- -- -- -- 77\\n\")), mdx(\"p\", null, \"\\u8BF4\\u660E\\u5728 i2c-0 \\u4E0A\\u7684 0x77 \\u4F4D\\u7F6E\\u3002\\u540C\\u6837\\u4E5F\\u53EF\\u4EE5\\u626B i2c-1 \\u548C i2c-3\\uFF0C\\u4F46\\u662F\\u5C31\\u6CA1\\u6709\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"elsa@imx7d:~$ i2cdetect -y 1\\n     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f\\n00:          -- -- -- -- -- -- -- -- -- -- -- -- --\\n10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n70: -- -- -- -- -- -- -- --\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"elsa@imx7d:~$ i2cdetect -y 3\\n     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f\\n00:          -- -- -- -- -- UU -- -- -- -- -- -- --\\n10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n70: -- -- -- -- -- -- -- --\\n\")), mdx(\"p\", null, \"\\u5982\\u679C\\u5F3A\\u5236\\u5168\\u90E8\\u626B\\u63CF\\uFF0C\\u90A3\\u4E48\\u5C31\\u662F\\u5982\\u4E0B\\u7684\\u7ED3\\u679C\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"elsa@imx7d:~$ i2cdetect -y -a 0\\n     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f\\n00: 00 -- -- -- -- -- -- -- -- -- UU -- -- -- -- --\\n10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n70: -- -- -- -- -- -- -- 77 -- -- -- -- -- -- -- --\\nelsa@imx7d:~$ i2cdetect -y -a 1\\n     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f\\n00: 00 -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n70: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\nelsa@imx7d:~$ i2cdetect -y -a 3\\n     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f\\n00: 00 -- -- -- -- -- -- -- UU -- -- -- -- -- -- --\\n10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n70: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\\n\")), mdx(\"p\", null, \"\\u6CA1\\u6709\\u6D4B\\u8BD5 0x00 \\u80FD\\u4E0D\\u80FD\\u7528\"), mdx(\"p\", null, \"\\u5F97\\u5230 i2c \\u7684\\u914D\\u7F6E\\uFF0C\\u5C31\\u53EF\\u4EE5\\u7528 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/rm-hull/bme280\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }, \"RPi.bme280\"), \" \\u5F97\\u5230\\u6570\\u636E\\uFF0C\\u5176\\u4E2D\\u7ED3\\u679C\\u6253\\u5370\\u6210\\u4E86 influx line protocol\\u4FBF\\u4E8E\\u88AB telegraf \\u8BFB\\u53D6\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"import smbus2\\nimport bme280\\n\\nport = 0\\naddress = 0x77\\nbus = smbus2.SMBus(port)\\n\\ncalibration_params = bme280.load_calibration_params(bus, address)\\ndata = bme280.sample(bus, address, calibration_params)\\n\\nprint('environment,location=lug206 temperature={},pressure={},humidity={} {}'.format(\\n    data.temperature,\\n    data.pressure,\\n    data.humidity,\\n    int(data.timestamp.timestamp() * 1000 * 1000 * 1000)\\n))\\n\")), mdx(\"h2\", {\n    \"id\": \"网络\"\n  }, \"\\u7F51\\u7EDC\"), mdx(\"p\", null, \"\\u7528 wpa\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"supplicant \\u53EA\\u80FD hdcp \\u5230 ipv6 \\u7684\\u5730\\u5740\\uFF0C\\u5C1D\\u8BD5\\u4E86 \", \"[Arch Wiki \\u7684 wpa_supplicant \\u9875\\u9762]\", \"(\", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"https://wiki.archlinux.org/index.php/wpa_supplicant#At_boot\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }, \"https://wiki.archlinux.org/index.php/wpa_supplicant#At_boot\")), \"(systemd))\\u4E2D\\u63D0\\u5230\\u7684\\u51E0\\u79CD\\u65B9\\u6CD5\\uFF0C\\n\\u90FD\\u4F1A\\u6709 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/run/wpa_supplicant/wlan0\"), \" \\u548C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/var/run/wpa_supplicant/wlan0\"), \" \\u88AB\\u5360\\u7528\\u7684\\u60C5\\u51B5\\u3002\\u4E0D\\u8FC7\\u628A\\u6574\\u4E2A\\u7CFB\\u7EDF\\u91CD\\u542F\\u5B89\\u88C5\\u4E4B\\u540E\\uFF0C\\u7B2C\\u4E00\\u6B21\\u542F\\u52A8\\u5E76\\u6CA1\\u6709\\u51FA\\u73B0\\u8FD9\\u4E24\\u4E2A\\u6587\\u4EF6\\u3002\\n\\u53EF\\u80FD\\u662F\\u56E0\\u4E3A\\u4E4B\\u524D\\u7684 NetworkManager \\u9057\\u7559\\u7684\\u95EE\\u9898\\uFF0C\\u4E0D\\u8981\\u5B89\\u88C5 NetworkManager \\u53EA\\u7528 systemd-networkd \\u5E94\\u8BE5\\u4F1A\\u6B63\\u5E38\\u3002\\u4E0D\\u8FC7\\u6CA1\\u6709\\u5C1D\\u8BD5\\u4E86\\u3002\"), mdx(\"p\", null, \"\\u6700\\u540E\\u76F4\\u63A5\\u7528 NetworkManager \\u6765\\u8FDE\\u63A5\\uFF0C\\u4F1A\\u6709\\u8BBE\\u7F6E\\u4E86\\u9759\\u6001 IP \\u4E4B\\u540E\\u4ECD\\u7136\\u4F1A\\u6709 DHCP \\u5F97\\u5230\\u7684\\u4E00\\u4E2A IP \\u5730\\u5740\\u7684\\u95EE\\u9898\\u3002\"), mdx(\"p\", null, \"\\u540C\\u65F6\\u4F7F\\u7528 NetworkManager \\u4E5F\\u53EF\\u4EE5\\u76F4\\u63A5\\u7BA1\\u7406 WireGuard\\u3002\"), mdx(\"h2\", {\n    \"id\": \"wireguard\"\n  }, \"WireGuard\"), mdx(\"p\", null, \"WireGuard \\u88AB\\u7F16\\u8BD1\\u8FDB\\u4E86\\u5185\\u6838\\uFF0C\\u5C31\\u4E0D\\u9700\\u8981\\u6DFB\\u52A0\\u5185\\u6838\\u6A21\\u5757\"), mdx(\"p\", null, \"\\u53C2\\u8003\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://blogs.gnome.org/thaller/2019/03/15/wireguard-in-networkmanager/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }, \"\\u8FD9\\u4E2A\\u6587\\u7AE0\"), \"\\u53EF\\u4EE5\\u5F97\\u5230\\u5982\\u4F55\\u4F7F\\u7528 NetworkManager \\u6765\\u5BFC\\u5165 WireGuard \\u7684\\u914D\\u7F6E\\u3002\"), mdx(\"p\", null, \"\\u4F46\\u662F\\u76F4\\u63A5 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"up\"), \" \\u4F1A\\u51FA\\u9519\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"elsa@imx7d:~$ sudo nmcli connection up wg.elsa.imx7d\\nError: Connection activation failed: Activation failed because the device is unmanaged\\n\\nelsa@imx7d:~$ sudo nmcli connection up wg.elsa.imx7d\\nError: Connection activation failed: Connection 'wg.elsa.imx7d' is not available on device wg.elsa.imx7d because device is strictly unmanaged\\n\")), mdx(\"p\", null, \"\\u7528\\u4E86\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://askubuntu.com/a/1075112\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }, \"\\u8FD9\\u4E2A\\u56DE\\u7B54\"), \"\\uFF0C\\u5F3A\\u5236\\u52A0\\u8F7D\\u7C7B\\u578B\\u4E3A none \\u7684\\u8BBE\\u5907\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"sudo touch /etc/NetworkManager/conf.d/10-globally-managed-devices.conf\\n\")), mdx(\"p\", null, \"\\u91CD\\u542F\\u4E4B\\u540E\\u5C31\\u6B63\\u5E38\\u4E86\\u3002\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://jbit.net/NetworkManager_Strictly_Unmanaged/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }, \"\\u8FD9\\u4E2A\\u6587\\u7AE0\"), \"\\u91CC\\u9762\\u63D0\\u5230\\u4E86\\u4E00\\u4E9B NetworkManager \\u7684\\u914D\\u7F6E\"));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHYU+aLAK//xAAaEAACAgMAAAAAAAAAAAAAAAACAwESABAT/9oACAEBAAEFAmHSAZYsIIOEI5a//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAAYDAAAAAAAAAAAAAAAAAAECECExEUFR/9oACAEBAAY/AumIpsGFTem//8QAGxABAAEFAQAAAAAAAAAAAAAAAREAECExUbH/2gAIAQEAAT8hyMcCtc9TaKNE0NNeLf/aAAwDAQACAAMAAAAQC8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAgEBPxCn/8QAHxABAAIBAwUAAAAAAAAAAAAAAREhMQAQUUFhcZHB/9oACAEBAAE/EDjtGnLYfT3pGUqXMOUcJ12uILhjE50iSMlAa8vfb//Z","aspectRatio":1.388235294117647,"src":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/67507/nxp-pico7-board.jpg","srcSet":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/e0f30/nxp-pico7-board.jpg 236w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/86afd/nxp-pico7-board.jpg 472w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/67507/nxp-pico7-board.jpg 900w","srcWebp":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/ae199/nxp-pico7-board.webp","srcSetWebp":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/77392/nxp-pico7-board.webp 236w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/1f177/nxp-pico7-board.webp 472w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/ae199/nxp-pico7-board.webp 900w","sizes":"(max-width: 900px) 100vw, 900px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHYU+aLAK//xAAaEAACAgMAAAAAAAAAAAAAAAACAwESABAT/9oACAEBAAEFAmHSAZYsIIOEI5a//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAAYDAAAAAAAAAAAAAAAAAAECECExEUFR/9oACAEBAAY/AumIpsGFTem//8QAGxABAAEFAQAAAAAAAAAAAAAAAREAECExUbH/2gAIAQEAAT8hyMcCtc9TaKNE0NNeLf/aAAwDAQACAAMAAAAQC8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAgEBPxCn/8QAHxABAAIBAwUAAAAAAAAAAAAAAREhMQAQUUFhcZHB/9oACAEBAAE/EDjtGnLYfT3pGUqXMOUcJ12uILhjE50iSMlAa8vfb//Z","aspectRatio":1.393162393162393,"src":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/1dc0b/nxp-pico7-board.jpg","srcSet":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/3a5ce/nxp-pico7-board.jpg 163w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/05730/nxp-pico7-board.jpg 327w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/1dc0b/nxp-pico7-board.jpg 653w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/67507/nxp-pico7-board.jpg 900w","srcWebp":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/0acdf/nxp-pico7-board.webp","srcSetWebp":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/ac59e/nxp-pico7-board.webp 163w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/7660b/nxp-pico7-board.webp 327w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/0acdf/nxp-pico7-board.webp 653w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/ae199/nxp-pico7-board.webp 900w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHYU+aLAK//xAAaEAACAgMAAAAAAAAAAAAAAAACAwESABAT/9oACAEBAAEFAmHSAZYsIIOEI5a//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAAYDAAAAAAAAAAAAAAAAAAECECExEUFR/9oACAEBAAY/AumIpsGFTem//8QAGxABAAEFAQAAAAAAAAAAAAAAAREAECExUbH/2gAIAQEAAT8hyMcCtc9TaKNE0NNeLf/aAAwDAQACAAMAAAAQC8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAgEBPxCn/8QAHxABAAIBAwUAAAAAAAAAAAAAAREhMQAQUUFhcZHB/9oACAEBAAE/EDjtGnLYfT3pGUqXMOUcJ12uILhjE50iSMlAa8vfb//Z","aspectRatio":1.3902439024390243,"src":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/eaa58/nxp-pico7-board.jpg","srcSet":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/5a3ee/nxp-pico7-board.jpg 114w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/41f8f/nxp-pico7-board.jpg 229w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/eaa58/nxp-pico7-board.jpg 457w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/c309b/nxp-pico7-board.jpg 686w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/67507/nxp-pico7-board.jpg 900w","srcWebp":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/15384/nxp-pico7-board.webp","srcSetWebp":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/31fce/nxp-pico7-board.webp 114w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/e3e25/nxp-pico7-board.webp 229w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/15384/nxp-pico7-board.webp 457w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/0258d/nxp-pico7-board.webp 686w,\n/static/2eeb9d9b84c16d2ba96a25f12943e0d9/ae199/nxp-pico7-board.webp 900w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/2eeb9d9b84c16d2ba96a25f12943e0d9/67507/nxp-pico7-board.jpg"}}}]}},"staticQueryHashes":["1143375668","1491088328","1921650733","2068910035","2444214635"]}